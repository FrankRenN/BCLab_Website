<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Sequencing Unit</title>
</head>
<body>

<h2>Add Sequencing Unit</h2>
<form id="sequencingUnitForm">
    <label>Type:</label>
    <input type="text" id="type" required><br><br>

    <label>Code:</label>
    <input type="text" id="code" required><br><br>

    <label>Pores Start:</label>
    <input type="number" id="pores_start" required><br><br>

    <label>Pores After:</label>
    <input type="number" id="pores_after" required><br><br>

    <label>Date:</label>
    <input type="date" id="date" required><br><br>

    <label>Run ID:</label>
    <input type="number" id="run_id" required><br><br>

    <button type="submit">Add Sequencing Unit</button>
</form>

<script>
document.getElementById("sequencingUnitForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const type = document.getElementById("type").value.trim();
    const code = document.getElementById("code").value.trim();
    const pores_start = document.getElementById("pores_start").value;
    const pores_after = document.getElementById("pores_after").value;
    const date = document.getElementById("date").value;
    const run_id = document.getElementById("run_id").value;

    try {
        const response = await fetch("http://localhost:8000/api/data/sequencing_unit", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ type, code, pores_start, pores_after, date, run_id }),
        });

        const result = await response.json();
        alert(result.message || "Sequencing Unit added successfully!");
    } catch (error) {
        console.error("Error adding sequencing unit:", error);
    }
});
</script>

</body>
</html>
